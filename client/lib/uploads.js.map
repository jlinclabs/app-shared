{"mappings":"AAAO,eAAe,yCAAU,CAAC,IAAI,EAAC;IACpC,MAAM,aAAa,GAAG,AAAC,CAAA,yCAAU,CAAC,mBAAmB,IAAI,GAAG,CAAA,GAAI,OAAO;IACvE,IAAI,CAAC,IAAI,EAAE,MAAM,IAAI,KAAK,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAA;IAC9C,IAAI,IAAI,CAAC,IAAI,GAAG,aAAa,EAC3B,MAAM,IAAI,KAAK,CACb,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,2CAA2C,CAAC,GAC1D,CAAC,KAAK,EAAE,yCAAU,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAC5C,CAAA;IACH,MAAM,QAAQ,GAAG,IAAI,QAAQ,EAAE;IAC/B,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC;IAC7B,MAAM,QAAQ,GAAG,MAAM,KAAK,CAC1B,CAAC,YAAY,CAAC,EACd;QAAC,MAAM,EAAE,MAAM;QAAE,IAAI,EAAE,QAAQ;KAAC,CACjC;IACD,IAAI,CAAC,QAAQ,CAAC,EAAE,EACd,MAAM,IAAI,KAAK,CAAC,CAAC,mBAAmB,EAAE,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAA;IAE9D,MAAM,SAAE,KAAK,CAAA,OAAE,GAAG,CAAA,EAAE,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE;IAC5C,IAAI,KAAK,EAAE,MAAM,IAAI,KAAK,CAAC,KAAK,CAAC,CAAA;IACjC,OAAO,GAAG,CAAA;CACX;AACD,yCAAU,CAAC,mBAAmB,GAAG,GAAG","sources":["client-src/lib/uploads.js"],"sourcesContent":["export async function uploadFile(file){\n  const MAX_FILE_SIZE = (uploadFile.MAX_FILE_SIZE_IN_MB || 200) * 1000000\n  if (!file) throw new Error(`file is required`)\n  if (file.size > MAX_FILE_SIZE)\n    throw new Error(\n      `\"${file.name}\" is too big. Please select a file smaller ` +\n      `than ${uploadFile.MAX_FILE_SIZE_IN_MB}mb.`\n    )\n  const formData = new FormData()\n  formData.append('file', file)\n  const response = await fetch(\n    `/api/uploads`,\n    {method: 'POST', body: formData}\n  )\n  if (!response.ok){\n    throw new Error(`file upload failed ${response.statusCode}`)\n  }\n  const { error, url } = await response.json()\n  if (error) throw new Error(error)\n  return url\n}\nuploadFile.MAX_FILE_SIZE_IN_MB = 200"],"names":[],"version":3,"file":"uploads.js.map","sourceRoot":"../../"}